<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Mevron - Driver Login</title>
<meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="robots" content="all,follow">
<!-- Bootstrap CSS-->	
<link rel="stylesheet" href="/vendor/bootstrap/css/bootstrap.min.css">
<!-- Font Awesome CSS-->
<link rel="stylesheet" href="/vendor/font-awesome/css/font-awesome.min.css">
<!-- Animation CSS-->
<link rel="stylesheet" href="/css/animate.css">
<!-- theme stylesheet-->
<link rel="stylesheet" href="/css/style.default.css" id="theme-stylesheet">
<!-- Custom stylesheet - for your changes-->
<link rel="stylesheet" href="/css/style.css">
<!-- Favicon-->
<link rel="shortcut icon" href="/img/favicon.png">
<!-- Tweaks for older IEs--><!--[if lt IE 9]>
	<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
	<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script><![endif]-->
</head>
<body>
	<main>
		<!-- navbar-->
		<header class="header">
		  <nav class="navbar navbar-expand-lg">
			<div class="container"><a href="index.html" class="navbar-brand"><img src="/img/front/mevron_logo.png" alt="" class="img-fluid"></a>
			</div>
		  </nav>
		  
			<!-- Start Signin Modal -->
			<div class="sign_sec modal_signup">
				<div class="container">
					
					<div class="front-sign-sec">
						<div class="close_btn">
							<svg width="1em" height="1em" viewBox="0 0 24 24" fill="none"><title>Navigation close menu</title><path d="M21.1 5.1l-2.2-2.2-6.9 7-6.9-7-2.2 2.2 7 6.9-7 6.9 2.2 2.2 6.9-7 6.9 7 2.2-2.2-7-6.9 7-6.9z" fill="currentColor"></path></svg>
						</div>
						
						<a href="/signup-driver" class="box bg-white d-inline-block text-left">
							<h2>Sign Up to <br> Drive</h2>
							<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="60px" height="32px"> <path fill-rule="evenodd" fill="rgb(13, 13, 13)" d="M44.352,31.519 C43.676,32.161 42.612,32.161 41.936,31.519 C41.283,30.898 41.283,29.866 41.936,29.248 L54.187,17.614 L1.715,17.614 C0.773,17.614 -0.000,16.903 -0.000,16.008 C-0.000,15.113 0.773,14.379 1.715,14.379 L54.187,14.379 L41.936,2.767 C41.283,2.125 41.283,1.091 41.936,0.473 C42.612,-0.169 43.676,-0.169 44.352,0.473 L59.504,14.860 C60.157,15.481 60.157,16.513 59.504,17.131 L44.352,31.519 Z"></path></svg>
						</a>
						<a href="#rider-sigup.html" class="box bg-gold d-inline-block text-left">
							<h2>Sign Up to <br> Ride</h2>
							<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="60px" height="32px"> <path fill-rule="evenodd" fill="rgb(255, 255, 255)" d="M44.352,31.519 C43.676,32.161 42.612,32.161 41.936,31.519 C41.283,30.898 41.283,29.866 41.936,29.248 L54.187,17.614 L1.715,17.614 C0.773,17.614 -0.000,16.903 -0.000,16.008 C-0.000,15.113 0.773,14.379 1.715,14.379 L54.187,14.379 L41.936,2.767 C41.283,2.125 41.283,1.091 41.936,0.473 C42.612,-0.169 43.676,-0.169 44.352,0.473 L59.504,14.860 C60.157,15.481 60.157,16.513 59.504,17.131 L44.352,31.519 Z"></path></svg>
						</a>
					</div>					
				</div>
			</div>		
			<!-- End Signup Modal -->
		</header>
		<!-- End Header -->
		
		<div class="layout_fixed">
		
			<div class="d-flex flex-column login_bg py-5">
								
				<div class="container">
					<div class="row align-items-center mt-0 mt-sm-3">						
						<div class="col-md-8 offset-md-2">
							<div class="bg-white p-4 p-sm-5">
							
								<h4 class="text-center font-weight-bold mb-5">Sign In</h3>								
								<form action="/driver-login-attempt" id="myForm" rel="" class="form-sign px-0 px-sm-5" method="">
									<div class="row text-justify-center">
										<div class="col-md-12 px-0 px-sm-5">
											<div class="form-group">
												<input type="text" id="email_phone" name="email" placeholder="Email/Mobile Number" class="form-control">
												<span id="error"></span>
											</div>
										</div>										
									</div> 
																	
									<div class="row">
										<div class="col-md-12 px-2 mt-4 mb-3">
											<div class="form-group text-center">									
												<input type="submit" value="Next" class="btn btn-lg btn-primary">
											</div>
										</div>
									</div>	
									
									<div class="row text-center">
										<div class="col-md-12 px-2">
											Don’t have an account? <a href="signup-driver.html" class="a-default"> Sign Up</a>
										</div>
									</div>
								</form><!-- End Rider Signin Form-->
								
							</div>	
						</div>
					</div>					
				
				</div>
			</div><!-- Front Banner -->
			
		</div><!-- End layout_fixed -->
		
		<div class="clearfix"></div>
		
		<footer class="main-footer">
		  <div class="container">
			<div class="row flex-row-reverse">	
				<div class="col-sm-8 text-center text-sm-right pt-4 py-lg-5">
					<ul class="list-unstyled m-0">
					  <li class="d-inline-block mt-0"><a href="#">Privacy</a></li>
					  <li class="d-inline-block mt-0 pl-5"><a href="#">Terms</a></li>					 
					</ul>
				</div>
				<div class="col-sm-4 text-center text-sm-left pt-4 py-lg-5">					
					<span>© 2019 Mevron Inc.</span>				
				</div>
			</div>
		  </div>		  
		</footer>

	</main>
	
	
    <!-- JavaScript files-->
    <script src="/vendor/jquery/jquery.min.js"></script>
    <script src="/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
	<!-- Animate JS -->
    <script src="/vendor/wow/wow.min.js"></script>
	<!-- Custom JS -->
    <script src="/js/custom.js"></script>
<script>
	let form = document.querySelector("form");

		form.addEventListener("submit",async (event)=>{
			event.preventDefault();
			if(!validate()) return;
			let x = document.forms["myForm"]["email"].value.trim();
			let data = await fetch("/driver-login-attempt", {
				 method: "POST",
				 // Adding body or contents to send
				 body: JSON.stringify({
					 email: x
				 }),
				 // Adding headers to the request
				 headers: {
					 "Content-type": "application/json; charset=UTF-8"
				 }
 			})
			 data = await data.json();
			 console.log(data.email);
			if(data==null) alert(data.message);
			else window.location.replace(`driver-password?email=${x}`);
		})
		function validate(){
   		 	var value = $("#email_phone").val().trim();
  			var regex = new RegExp('^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})|(^[0-9]{10})+$');

 			 if(value){
        	 if(!regex.test(value)){
         	 $("#error").text("Please enter valid email address or phone number.")
       			}else{
        	 $("#error").text('')
        	 	return true;
      		 }
  			}else{
   			 $("#error").text('This field is required.')
  			}
  			return false;
		}
</script>
</body>
</html>